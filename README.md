# Measurement of the $|V_{cb}|$ CKM element from $t\bar{t}$-decays at CMS

<p align="center">
<img src=".img/2022-11-22-04-19-34-image.png" alt="" width="150" />
  <img src=".img/2022-11-22-03-35-24-image.png" alt="" width="300" />
</p>

:pencil2: [Topics](docs/Topics.md)

:book: [Sources & Notes](docs/Sources.md)

---

- [OneDrive](https://unipiit-my.sharepoint.com/personal/p_viscone_studenti_unipi_it/_layouts/15/onedrive.aspx?id=%2Fpersonal%2Fp%5Fviscone%5Fstudenti%5Funipi%5Fit%2FDocuments%2FTesi)

- [Cernbox](https://cernbox.cern.ch/files/spaces/eos/user/p/pviscone)

- [GitHub](https://github.com/pviscone/Vcb_ditopDecay)

---

#### ROOT Files

In this repo there are symbolic links to root files that point to the /root_files folder (relative links, so moving them will break anything).

You can download all the root files [here (cernbox link)](https://cernbox.cern.ch/s/AKpaEEENyWOYBjr). Copy it in the root_files directory. 

List and info about the root files are in [root_files/README](./root_files/README.md)

If you are a CERN user, the better way to download the folder is using **xrootd**:

```bash
xrdcp -r root://eosuser.cern.ch//eos/user/p/pviscone/root_files/ .
```

---

### Tasks

**Achtung!:** don't use the math enviroment in this table. GitHub is stupid and will break all the relative links (but only in the homepage of the repo)

| Task⠀⠀                                                               | SubTask                                                                            | Dataset                                                                                                                                                                                                                                                                                                                                                                                               | Notes ⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀                                                                                                                                                                                                              | Status                                                          |
| -------------------------------------------------------------------- | ---------------------------------------------------------------------------------- |:----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |:--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------- |
| [LHE_Plots](tasks/LHE_Plots/README.md)                               | [powheg](tasks/LHE_Plots/powheg/README.md)                                         | [/TTToSemiLeptonic\_TuneCP5\_13TeV-powheg-pythia8/RunIISummer20UL17NanoAODv2-106X\_mc2017\_realistic\_v8-v1/NANOAODSIM](https://cmsweb.cern.ch/das/request?input=dataset%3D%2FTTToSemiLeptonic_TuneCP5_13TeV-powheg-pythia8%2FRunIISummer20UL17NanoAODv2-106X_mc2017_realistic_v8-v1%2FNANOAODSIM&instance=prod/global)                                                                               | Recontruct the invariant mass of t, tbar, W separating the adronic and the leptonic decays. Do the same thing for eta and pt. Create an histogram with the different types of hadronic decays of the W (all the possible couples) | done: (dataset not suitable: CKM mixing disabled)               |
|                                                                      | [madgraph](tasks/LHE_Plots/madgraph/README.md)                                     | [/TTJets_SingleLeptFromTbar_TuneCP5_13TeV-madgraphMLM-pythia8/RunIISummer20UL18NanoAODv9-106X_upgrade2018_realistic_v16_L1v1-v1/NANOAODSIM](https://cmsweb.cern.ch/das/request?instance=prod/global&input=file+dataset%3D%2FTTJets_SingleLeptFromTbar_TuneCP5_13TeV-madgraphMLM-pythia8%2FRunIISummer20UL18NanoAODv9-106X_upgrade2018_realistic_v16_L1v1-v1%2FNANOAODSIM)                             | Do the same thing with a MadGraph dataset and add some plots like deltaPhi, deltaEta, deltaR                                                                                                                                      | done                                                            |
|                                                                      | [generated_signal](tasks/LHE_Plots/generated_signal)                               | generated (in [generateCbEvents](tasks/generateCbEvents/README.md) )                                                                                                                                                                                                                                                                                                                                  | Do the same LHE Plots on the generated dataset                                                                                                                                                                                    | done                                                            |
| Skim datasets                                                        | [NANOAODTools](tasks/CBOnlySemileptonicFilter/NANOAODTools/README.md)              | cbFromT_SingleLeptFromTbar: [/TTJets_SingleLeptFromTbar_TuneCP5_13TeV-madgraphMLM-pythia8/RunIISummer20UL18NanoAODv9-106X_upgrade2018_realistic_v16_L1v1-v1/NANOAODSIM](https://cmsweb.cern.ch/das/request?instance=prod/global&input=file+dataset%3D%2FTTJets_SingleLeptFromTbar_TuneCP5_13TeV-madgraphMLM-pythia8%2FRunIISummer20UL18NanoAODv9-106X_upgrade2018_realistic_v16_L1v1-v1%2FNANOAODSIM) | Isolate the signal (semilept cb) skimming the datasets                                                                                                                                                                            | done: (Problem: cb events have always the same lepton)          |
|                                                                      |                                                                                    | cbFromTbar_SingleLeptFromT: [/TTJets_SingleLeptFromT_TuneCP5_13TeV-madgraphMLM-pythia8/RunIISummer20UL18NanoAODv9-106X_upgrade2018_realistic_v16_L1v1-v1/NANOAODSIM](https://cmsweb.cern.ch/das/request?input=dataset%3D%2FTTJets_SingleLeptFromT_TuneCP5_13TeV-madgraphMLM-pythia8%2FRunIISummer20UL18NanoAODv9-106X_upgrade2018_realistic_v16_L1v1-v1%2FNANOAODSIM&instance=prod/global)            |                                                                                                                                                                                                                                   |                                                                 |
|                                                                      | [selectBackground](tasks/CBOnlySemileptonicFilter/selectBackground/README.md)      | same datasets                                                                                                                                                                                                                                                                                                                                                                                         | Isolate the background taking the same number of muon, electrons and tauons                                                                                                                                                       | done                                                            |
| [Generate cb  semileptonic events](tasks/generateCbEvents/README.md) |                                                                                    | FULLSIM MC (RunIISummer20UL18 settings)                                                                                                                                                                                                                                                                                                                                                               | Generate cb events (campaign RunIISummer20UL18)                                                                                                                                                                                   | done                                                            |
| [Muons](tasks/Muons/README.md)                                       |                                                                                    |                                                                                                                                                                                                                                                                                                                                                                                                       | W->mu events                                                                                                                                                                                                                      |                                                                 |
|                                                                      | [Preselection](tasks/Muons/preliminarCuts/README.md)                               | TTbarSemileptonic_cbOnly, BigMuons.root (generated) and TTbarSemileptonic_Nocb (skimming)                                                                                                                                                                                                                                                                                                             |                                                                                                                                                                                                                                   | done: choosed initial cuts                                      |
|                                                                      | [Ranking](tasks/Muons/ranking/README.md)                                           | (The same but skimmed)                                                                                                                                                                                                                                                                                                                                                                                | Rank the features (1D, not multivariate)                                                                                                                                                                                          | done: not so useful. Decided to reconstruct the event "by hand" |
|                                                                      | [reco](tasks/Muons/neutrino_reco/README.md)                                        | (The same but skimmed)                                                                                                                                                                                                                                                                                                                                                                                | Reconstruct the neutrino (and the event) using the W mass constraint                                                                                                                                                              | done                                                            |
|                                                                      | [classify_bLept_Jet_Level](tasks/Muons/classify_bLept_jet/Jet_level/README.md)     | (Only signal)                                                                                                                                                                                                                                                                                                                                                                                         | Assign the bLept parton to the right jet (Classifying Jet by Jet)                                                                                                                                                                 |                                                                 |
|                                                                      | [classify_bLept_Event_level](tasks/Muons/classify_bLept_jet/Event_level/README.md) | (Only signal after preselection) BigMuons_MuonSelection.root                                                                                                                                                                                                                                                                                                                                          | Assign the bLept parton to the right jet (Classifying Event by Event)                                                                                                                                                             |                                                                 |
|                                                                      | [classify_all_jet](tasks/Muons/classify_all_jet/README.md)                         | (Only signal after preselection) BigMuons_MuonSelection.root                                                                                                                                                                                                                                                                                                                                          | Assign all the 4 partons to the right quark                                                                                                                                                                                       | Vcb_ditopDecay                                                  |
